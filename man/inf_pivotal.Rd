% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pivotal_inference.R
\name{inf_pivotal}
\alias{inf_pivotal}
\title{Pivotal Inference for Sketch-and-Solve Estimators}
\usage{
inf_pivotal(
  sketched_X,
  sketched_y,
  c,
  n,
  method = "iid",
  alpha = 0.1,
  partial = 0,
  Xty = NULL
)
}
\arguments{
\item{sketched_X}{Sketched design matrix (m x p)}

\item{sketched_y}{Sketched response vector (m x 1)}

\item{c}{Linear combination vector (p x 1)}

\item{n}{Original sample size}

\item{method}{Sketching method: "iid", "haar", or "hadamard"}

\item{alpha}{Significance level (default = 0.10)}

\item{partial}{Whether partial sketching was used (0=full, 1=partial)}

\item{Xty}{For partial sketching, the X'y vector (optional)}
}
\value{
List containing:
\item{confidence_interval}{90\% confidence interval}
\item{point_estimate}{Point estimate of c'beta}
}
\description{
Performs pivotal inference for different types of sketch-and-solve estimators
(I.I.D., Haar, or Hadamard).
}
\examples{
# Generate sample data
# TARGET: True OLS solution obtained from full data
set.seed(123)
n <- 100; p <- 5; m <- 30
X <- matrix(rnorm(n * p), n, p)
y <- X \%*\% c(1, -0.5, 0.3, 0.8, -0.2) + rnorm(n, sd = 0.1)
c_vec <- c(1, 0, 0, 0, 0)  # first coordinate

# Calculate true target: OLS solution with full data
ols_beta <- qr.solve(X, y)
true_target <- sum(c_vec * ols_beta)

# Perform sketching
result <- ske_iid(X, y, m, c_vec)

# Pivotal inference
inference <- inf_pivotal(
  result$sketched_data[, 1:p],
  result$sketched_data[, p+1],
  c_vec, n, "iid"
)
cat("True target (OLS):", round(true_target, 3), "\\n")
cat("90\% CI:", round(inference$confidence_interval, 3), "\\n")

}
